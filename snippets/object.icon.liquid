{%- comment -%}
  Icon Object
    Object Tool for importing an icon

  Parameters:
    icon - The icon to use
    class - Extra (optional) classes you want to add to the icon
    title - Reader friendly title and alt tag
    alt - (Optional) override for the alt tag.
    attributes - (Optional) Attributes to apply to the SVG/Image
    width - (Optional) Image width
    height - (Optional) Image height

  Version:
    2.0.0 - 2020/08/24
{%- endcomment -%}
{%- liquid
  capture classes
    echo 'o-icon o-icon--'
    echo icon | handleize
    if class != blank
      echo ' ' | append: class
    endif
  endcapture

  capture filename
    echo 'icon-'
    echo icon | handleize
    echo '.svg'
  endcapture
-%}

<img
  src="{{ filename | asset_url }}"
  {% if alt %} alt="{{ alt | escape }}" {% endif %}
  {% if attributes %} {{ attributes }} {% endif %}
  {% if width %} width="{{ width }}" {% endif %}
  {% if height %} height="{{ height }}" {% endif %}
  class="{{ classes }}"
  loading="lazy"
/>
