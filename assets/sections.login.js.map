{"version":3,"file":"sections.login.js","mappings":"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","sources":["webpack://SkinShark/webpack/runtime/chunk loaded","webpack://SkinShark/./scripts/tools/utilities/helper-functions.ts","webpack://SkinShark/./scripts/sections/login.ts","webpack://SkinShark/external var \"jQuery\"","webpack://SkinShark/webpack/bootstrap","webpack://SkinShark/webpack/runtime/define property getters","webpack://SkinShark/webpack/runtime/global","webpack://SkinShark/webpack/runtime/hasOwnProperty shorthand","webpack://SkinShark/webpack/runtime/runtimeId","webpack://SkinShark/webpack/runtime/jsonp chunk loading","webpack://SkinShark/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\n\nexport function onReady(action?: () => void): Promise<void> | undefined{\n  let resolvePromise: () => void;\n  document.addEventListener(\"DOMContentLoaded\", (e: any) => {\n    if(action) action(); else resolvePromise()\n  })\n  if(!action) return new Promise<void>(resolve => resolvePromise = resolve)\n}\n\ntype SortVal = string | number\ntype DeepProperties = string | string[]\ntype AscendingDescending = 'ascending' | 'descending'\n\n/**\n * \n * @param {any[]} array \n * @param ascendingDescending \n * @param deepProperties \n * @returns {T} Return sorted array\n * @example sort([{x: 2}, {x: 1}, {x: 3}], 'descending', 'x')\n * output: [{x:3},{x:2},{x:1}]\n * \n */\nexport const sort = <\n  T extends any[], \n  T2 extends DeepProperties\n>(\n  array: T,\n  ascendingDescending: AscendingDescending = 'ascending',\n  deepProperties?: T2\n): T => {  \n  return array.sort((a, b) => (\n    (getSortVal(a) < getSortVal(b) ? 1 : -1) *\n    (ascendingDescending == 'descending' ? -1 : 1)\n  ))\n  \n  function getSortVal(rootObj: any): SortVal{\n    return (\n      !deepProperties ? rootObj : \n      typeof deepProperties == 'string' ? rootObj[deepProperties] : \n      deepProperties.reduce((deepProp, prop) => deepProp[prop], rootObj)\n    )\n  }\n}\n\nexport function toDecimalPlaces(number: number, decimalPlaces: number): number{\n  return Math.round(number * Math.pow(10,decimalPlaces)) / Math.pow(10,decimalPlaces)\n}\n\n\nconst existingTimeOuts: {[key: string]: {timeout: any, reject: any}} = {}\nexport function debounce(milliseconds: number, name: string): Promise<void>{\n\n  if(existingTimeOuts[name]){\n    clearTimeout(existingTimeOuts[name].timeout)\n    existingTimeOuts[name].reject()\n    delete existingTimeOuts[name]\n  }\n\n  return new Promise((resolve, reject) => {\n    existingTimeOuts[name] = {\n      timeout: setTimeout(resolve, milliseconds),\n      reject\n    }\n  })\n\n}\n\n\nexport function getElem<T extends HTMLElement>(selector: string, container?: HTMLElement, handleError?: 'throw on fail'): T{\n  const elem: T = (container || document).querySelector(selector)!;\n  if(!elem && handleError == 'throw on fail'){\n    throwSelectorError(selector)\n  }\n  return elem\n}\n\nexport function getElems<T extends HTMLElement>(selector: string, container?: HTMLElement, handleError?: 'throw on fail'): T[]{\n  const elems: T[] = Array.from((container || document).querySelectorAll(selector));\n  if(!elems.length && handleError == 'throw on fail'){\n    throwSelectorError(selector)\n  }\n  return elems\n}\n\n\nexport function throwSelectorError(selector: string){\n  throw `Could not find element with selector ${selector}`\n}\n\n\nexport function waitForNextFrame(){\n  return new Promise(resolve => requestAnimationFrame(resolve));\n}\n\nexport function onScroll(action: () => void){\n  let previousScrollAmount: number;\n  doActionThenWaitForNextFrame();\n\n  function doActionThenWaitForNextFrame() {\n    const currentScrollAmount = window.scrollY;\n\n    if (currentScrollAmount !== previousScrollAmount) {\n      action();\n      previousScrollAmount = currentScrollAmount;\n    }\n    // on next animation frame, trigger same function\n    requestAnimationFrame(doActionThenWaitForNextFrame);\n  }\n}\n\nexport function elemIsInView(elem: HTMLElement): boolean {\n  // top and bottom values are relative to window view\n  const { top, bottom } = elem.getBoundingClientRect();\n  const elemOutOfView = top > window.innerHeight || bottom < 0;\n  return elemOutOfView ? false : true;\n}\n\n// on resize\nconst actions: (() => void)[] = [];\nexport function onResize(action: () => void) {\n  actions.push(action);\n}\nwindow.addEventListener('resize', (_) => actions.forEach((action) => action()));\n\nexport function loop(number: number, action: (i?: number) => void) {\n  for (let i = 0; i < number; i++) {\n    action(i);\n  }\n}\n\nexport const randomNumber = ({ digits }: { digits: number }): number => {\n  const num = Math.pow(10, digits - 1);\n  return Math.round(Math.random() * num);\n};\n\nexport const timer = ({ seconds }: { seconds: number }) =>\n  new Promise((resolve) => setTimeout(resolve, seconds * 1000));\n","/*\n *  Login Template\n *\n *  Version:\n *    2.0.0 - 2019/02/05\n */\n\nimport { getQueryParams, escapeString } from '@process-creative/slate-theme-tools';\n\nimport { getElem } from '../tools/utilities/helper-functions';\n\n//TODO: We can use the tools from  pc-slate-tools to handle this all via ajax...\n\n//export const SELECTOR_LOGIN_TEMPLATE = '[data-login-template]';\nexport const LOGIN_TEMPLATE_CONTAINER = '[data-login-template]';\nexport const REDIRECT_ELEMENT = '[data-login-register-redirect]';\nexport const REDIRECT_JSON = '[data-login-template-redirect-data]';\n\nexport const QUERY_KEY = 'return_url';\nexport const PAGE_REFERENCE = 'loyalty';\n\nexport const SELECTOR_LOGIN_FORGOT_PASSWORD = '[data-login-forgot-password]';\nexport const SELECTOR_LOGIN_FORM = '[data-login-form]';\nexport const SELECTOR_FORGOT_FORM = '[data-forgot-form]';\nexport const SELECTOR_FORGOT_CANCEL = '[data-forgot-cancel]';\nclass LoginTemplate  {\n  redirectElement: HTMLElement\n  redirectDataElement: HTMLElement\n  data: any\n  constructor() {\n    //Elements\n    this.redirectElement = getElem(REDIRECT_ELEMENT)!;\n    this.redirectDataElement = getElem(REDIRECT_JSON)!;\n    $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n\n    this.parseData();\n  }\n\n  checkUrl() {\n    let params: any = getQueryParams();\n    if(!params[QUERY_KEY]) return;\n    let value = params[QUERY_KEY];\n\n    let key = Object.keys(this.data).find(k => (value.indexOf(k) !== -1));\n    if(!key || !this.data[key]) return;\n\n    this.redirectElement.innerHTML = (`\n      <input type=\"hidden\" name=\"checkout_url\" value=\"${escapeString(this.data[key])}\" />\n    `);\n \n  }\n\n  parseData() {\n    if(!this.redirectDataElement) return;\n    try {\n      this.data = JSON.parse(this.redirectDataElement.innerHTML);\n    } catch(e) {\n      console.error(e);\n    }\n    if(this.data) this.checkUrl();\n  }\n\n}\nnew LoginTemplate();\n\ngetElem(SELECTOR_LOGIN_FORGOT_PASSWORD)?.addEventListener('click', e => {\n  e.preventDefault();\n  e.stopPropagation();\n\n  //Swap the form over to the forgot form\n  getElem(SELECTOR_LOGIN_FORM)?.classList.add('is-hidden');\n  getElem(SELECTOR_FORGOT_FORM)?.classList.remove('is-hidden');\n});\n\n\ngetElem(SELECTOR_FORGOT_CANCEL)?.addEventListener('click', e => {\n  e.preventDefault();\n  e.stopPropagation();\n\n  getElem(SELECTOR_LOGIN_FORM)?.classList.remove('is-hidden');\n  getElem(SELECTOR_FORGOT_FORM)?.classList.add('is-hidden');\n});\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.j = 9122;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t9122: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkSkinShark\"] = self[\"webpackChunkSkinShark\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [4736], () => (__webpack_require__(8491)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","getElem","selector","container","handleError","elem","document","querySelector","throwSelectorError","actions","window","addEventListener","_","forEach","action","SELECTOR_LOGIN_FORM","SELECTOR_FORGOT_FORM","this","redirectElement","redirectDataElement","$","animate","scrollTop","parseData","params","getQueryParams","value","key","Object","keys","data","find","k","indexOf","innerHTML","escapeString","JSON","parse","e","console","error","checkUrl","preventDefault","stopPropagation","classList","add","remove","module","exports","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","every","splice","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}