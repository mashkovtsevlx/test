{{ 'sections.announcement-bar.css' | asset_url | stylesheet_tag }}

{% liquid
  assign ss = section.settings
%}
{% if ss.display %}
  <style>
      .announcement-bar {
          background-color: {{ ss.bg_color }};
          padding: {{ ss.padding_size }}px;
      }
      .announcement-bar p {
          color: {{ ss.text_color }};
          font-size: {{ ss.font_size }}px;
      }
  </style>

  <div class="announcement-bar" role="region" aria-label="announcement-bar" {{ section.shopify_attributes }}>
    {%- if ss.text != blank -%}
      {%- if ss.link != blank -%}
        <a href="{{ ss.link }}" class="announcement-bar__link">
      {%- endif -%}
      <p class="announcement-bar__message">
        {{ ss.text | escape }}
      </p>
      {%- if ss.link != blank -%}
        </a>
      {%- endif -%}
    {%- endif -%}
  </div>
{% endif %}


{% schema %}
{
  "name": "Announcement bar",
  "settings": [
    {
      "type": "checkbox",
      "id": "display",
      "default": true,
      "label": "Display announcement bar"
    },
    {
      "type": "color",
      "id": "bg_color",
      "default": "#FFFFFF",
      "label": "Announcement bar color"
    },
    {
      "type": "range",
      "id": "padding_size",
      "min": 2,
      "max": 52,
      "step": 1,
      "unit": "px",
      "label": "Paddings size",
      "default": 10
    },
    {
      "type": "text",
      "id": "text",
      "default": "Welcome to our store",
      "label": "Announcement bar text"
    },
    {
      "type": "color",
      "id": "text_color",
      "default": "#004851",
      "label": "Announcement bar text color"
    },
    {
      "type": "range",
      "id": "font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Font size",
      "default": 16
    },
    {
      "type": "url",
      "id": "link",
      "label": "Announcement bar link",
      "info": "Can be empty"
    }
  ]
}
{% endschema %}
